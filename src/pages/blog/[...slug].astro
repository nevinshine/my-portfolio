---
import { type CollectionEntry, getCollection } from 'astro:content';
import BaseHead from '../../components/BaseHead.astro';

export async function getStaticPaths() {
	const posts = await getCollection('blog');
	return posts.map((post) => ({
		params: { slug: post.slug },
		props: post,
	}));
}
type Props = CollectionEntry<'blog'>;
const post = Astro.props;
const { Content } = await post.render();
---

<html lang="en">
	<head>
		<BaseHead title={post.data.title} description={post.data.description} />
	</head>
	<body class="bg-[#050505] text-gray-300 font-sans px-6 py-20">
		<article class="max-w-2xl mx-auto">
			<a href="/" class="text-xs font-mono text-green-500 hover:text-white transition-colors mb-12 block uppercase tracking-widest">
                [ ‚Üê Back to Terminal ]
            </a>
			<div class="border-l-2 border-green-500 pl-6 mb-12">
				<h1 class="text-4xl font-bold text-white mb-2 tracking-tight">{post.data.title}</h1>
				<div class="text-xs font-mono text-neutral-500 uppercase tracking-widest">
					Log Day: {post.data.day} // {post.data.pubDate.toLocaleDateString()}
				</div>
			</div>
			<div class="prose prose-invert prose-green max-w-none">
				<Content />
			</div>
		</article>
	</body>
</html>
